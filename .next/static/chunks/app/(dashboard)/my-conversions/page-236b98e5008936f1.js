(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[65],{1142:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var s=a(5155),n=a(2115),r=a(1878),i=a(9253),l=a(4980),o=a(7915),d=a(4514),c=a(2475),x=a(1503),p=a(6962),u=a(1337),m=a(5585),g=a(2967),h=a(9698);function b(){let[e,t]=(0,n.useState)([]),[a,b]=(0,n.useState)(!0),[j,f]=(0,n.useState)(null),[w,N]=(0,n.useState)(null),[v,y]=(0,n.useState)(!1),{search:k,setSearch:_,sortConfig:A,toggleSort:C,filteredAndSorted:D}=(0,g.H)(e,["judul","text_input"]),S=({columnKey:e})=>(0,s.jsx)(h.y,{columnKey:e,sortConfig:A}),L=()=>{fetch((0,u.e)(`/api/my-conversions?_t=${Date.now()}`),{cache:"no-store",headers:{"Cache-Control":"no-cache"}}).then(e=>e.json()).then(e=>{t(e.conversions),b(!1)}).catch(()=>b(!1))};(0,n.useEffect)(()=>(L(),window.addEventListener("focus",L),()=>window.removeEventListener("focus",L)),[]);let $=e=>{let t=`${window.location.origin}${(0,u.s)(e.audio_path)}`,a=`<div style="display: flex; align-items: center;"><span style="font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);"><b>Berita Versi Audio</b></span><audio controls="" class="custom-audio" style="width: 150px; margin-left: 20px; font-family: Arial, Verdana; font-size: 10pt;"><source src="${t}" type="audio/mpeg"> </audio> </div>`;navigator.clipboard.writeText(a).then(()=>{f(e.id),setTimeout(()=>f(null),2e3)})};return(0,s.jsxs)("div",{className:"space-y-5 animate-fade-in",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl md:text-4xl font-bold text-orange-950 tracking-tight uppercase",children:"Alih Audio Saya"}),(0,s.jsx)("p",{className:"text-orange-900/50 text-xs font-semibold uppercase tracking-widest mt-1",children:"Daftar riwayat konversi Anda"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(r.A,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-4 w-4 text-orange-400 pointer-events-none"}),(0,s.jsx)("input",{type:"text",placeholder:"Cari berdasarkan judul atau isi teks...",value:k,onChange:e=>_(e.target.value),className:"w-full pl-11 pr-5 py-3.5 rounded-2xl border border-orange-200/60 text-sm font-medium shadow-sm outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500/40 transition-all bg-white/80",style:{color:"#1c0a00"}}),k&&(0,s.jsxs)("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] font-medium text-orange-900/40 uppercase tracking-wider",children:[D.length," hasil"]})]}),a&&(0,s.jsxs)("div",{className:"glass rounded-[32px] p-24 flex flex-col items-center justify-center gap-4 text-orange-600 border border-orange-200/50",children:[(0,s.jsx)("div",{className:"w-10 h-10 border-4 border-orange-200 border-t-orange-600 rounded-full animate-[spin_0.8s_linear_infinite]"}),(0,s.jsx)("p",{className:"text-[10px] font-bold uppercase tracking-widest text-orange-900/40 animate-[pulse_1.5s_cubic-bezier(0.4,0,0.6,1)_infinite]",children:"Memuat Data..."})]}),!a&&0===D.length&&(0,s.jsxs)("div",{className:"glass rounded-[32px] p-16 flex flex-col items-center gap-4 text-orange-900/20 border border-orange-200/50",children:[(0,s.jsx)(i.A,{className:"h-12 w-12"}),(0,s.jsx)("p",{className:"text-sm font-semibold uppercase tracking-widest",children:k?"Tidak ada hasil ditemukan":"Belum ada riwayat konversi"})]}),!a&&D.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"md:hidden space-y-3",children:D.map(e=>(0,s.jsxs)("div",{className:"glass rounded-[24px] p-4 border border-orange-200/50 shadow-sm space-y-3",children:[e.judul&&(0,s.jsx)("div",{className:"flex items-start gap-2",children:(0,s.jsx)("span",{className:"text-sm font-bold text-orange-950 leading-snug",children:e.judul})}),(0,s.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"p-1.5 rounded-lg bg-orange-100/60 text-orange-600",children:(0,s.jsx)(l.A,{className:"h-3.5 w-3.5"})}),(0,s.jsxs)("div",{suppressHydrationWarning:!0,children:[(0,s.jsx)("div",{className:"text-[11px] font-semibold text-orange-950",children:new Date(e.created_at).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})}),(0,s.jsx)("div",{className:"text-[9px] font-medium text-orange-900/40 uppercase",children:new Date(e.created_at).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})})]})]}),(0,s.jsxs)("span",{className:`px-2.5 py-1 rounded-lg text-[9px] font-semibold uppercase tracking-wider flex-shrink-0 ${"puter"===e.mode?"bg-orange-600 text-white":"bg-amber-100 text-amber-700"}`,children:["puter"===e.mode?"♂ Laki-laki":"♀ Perempuan",e.lang?` \xb7 ${e.lang}`:""]})]}),(0,s.jsxs)("p",{className:"text-xs text-orange-900/60 font-medium italic leading-relaxed line-clamp-2 px-1 border-l-2 border-orange-200",children:['"',e.text_input,'"']}),e.audio_path&&(0,s.jsxs)("div",{className:"flex items-center gap-2 pt-1",children:[(0,s.jsxs)("button",{onClick:()=>{N(e),y(!0)},className:"flex-1 flex items-center justify-center gap-1.5 py-2 rounded-xl bg-orange-500 text-white hover:bg-orange-600 transition-all duration-100 text-[10px] font-semibold uppercase tracking-wider shadow-sm",children:[(0,s.jsx)(o.A,{className:"h-3.5 w-3.5"}),"Detail"]}),(0,s.jsxs)("button",{onClick:()=>$(e),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-xl text-[10px] font-bold uppercase tracking-wider transition-all ${j===e.id?"bg-green-500 text-white":"bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white"}`,children:[j===e.id?(0,s.jsx)(d.A,{className:"h-3.5 w-3.5"}):(0,s.jsx)(c.A,{className:"h-3.5 w-3.5"}),j===e.id?"Tersalin!":"Salin HTML"]}),(0,s.jsxs)("a",{href:(0,u.s)(e.audio_path),target:"_blank",className:"flex-1 flex items-center justify-center gap-1.5 py-2 rounded-xl bg-orange-50 text-orange-600 hover:bg-orange-600 hover:text-white transition-all text-[10px] font-bold uppercase tracking-wider",children:[(0,s.jsx)(x.A,{className:"h-3.5 w-3.5"}),"Putar"]}),(0,s.jsxs)("a",{href:(0,u.s)(e.audio_path),download:!0,className:"flex-1 flex items-center justify-center gap-1.5 py-2 rounded-xl bg-zinc-900 text-white hover:bg-zinc-700 transition-all text-[10px] font-bold uppercase tracking-wider",children:[(0,s.jsx)(p.A,{className:"h-3.5 w-3.5"}),"Unduh"]})]})]},e.id))}),(0,s.jsx)("div",{className:"hidden md:block glass rounded-[40px] overflow-hidden shadow-xl border border-orange-200/50",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-left border-collapse min-w-[700px]",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-orange-500/5 border-b border-orange-100",children:[(0,s.jsxs)("th",{className:"px-6 py-4 text-[10px] font-semibold text-orange-900/40 uppercase tracking-widest cursor-pointer group hover:bg-orange-500/10 transition-colors",onClick:()=>C("created_at"),children:["Waktu ",(0,s.jsx)(S,{columnKey:"created_at"})]}),(0,s.jsxs)("th",{className:"px-6 py-4 text-[10px] font-semibold text-orange-900/40 uppercase tracking-widest cursor-pointer group hover:bg-orange-500/10 transition-colors",onClick:()=>C("judul"),children:["Judul ",(0,s.jsx)(S,{columnKey:"judul"})]}),(0,s.jsxs)("th",{className:"px-6 py-4 text-[10px] font-semibold text-orange-900/40 uppercase tracking-widest cursor-pointer group hover:bg-orange-500/10 transition-colors",onClick:()=>C("mode"),children:["Mode ",(0,s.jsx)(S,{columnKey:"mode"})]}),(0,s.jsxs)("th",{className:"px-6 py-4 text-[10px] font-semibold text-orange-900/40 uppercase tracking-widest cursor-pointer group hover:bg-orange-500/10 transition-colors",onClick:()=>C("text_input"),children:["Teks Input ",(0,s.jsx)(S,{columnKey:"text_input"})]}),(0,s.jsx)("th",{className:"px-6 py-4 text-[10px] font-semibold text-orange-900/40 uppercase tracking-widest text-right",children:"Aksi"})]})}),(0,s.jsx)("tbody",{children:D.map(e=>(0,s.jsxs)("tr",{className:"border-b border-orange-50/50 hover:bg-orange-50/30 transition-colors group",children:[(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-orange-100/50 text-orange-600",children:(0,s.jsx)(l.A,{className:"h-4 w-4"})}),(0,s.jsxs)("div",{className:"flex flex-col",suppressHydrationWarning:!0,children:[(0,s.jsx)("span",{className:"text-[11px] font-semibold text-orange-950",children:new Date(e.created_at).toLocaleDateString("id-ID",{day:"2-digit",month:"short"})}),(0,s.jsx)("span",{className:"text-[9px] font-medium text-orange-900/40 uppercase",children:new Date(e.created_at).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})})]})]})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("p",{className:"text-sm font-semibold text-orange-950 max-w-[180px] truncate",children:e.judul||(0,s.jsx)("span",{className:"text-orange-900/20 italic font-medium text-xs",children:"—"})})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:`px-2 py-1 rounded-lg text-[9px] font-semibold uppercase tracking-wider ${"puter"===e.mode?"bg-orange-600 text-white":"bg-amber-100 text-amber-700"}`,children:"puter"===e.mode?"♂ Laki-laki":"♀ Perempuan"}),(0,s.jsx)("span",{className:"text-[9px] font-medium text-zinc-400 uppercase",children:e.lang})]})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("p",{className:"text-[11px] text-orange-900/70 truncate max-w-[220px] font-medium italic",children:['"',e.text_input,'"']})}),(0,s.jsx)("td",{className:"px-6 py-4 text-right",children:(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)("button",{onClick:()=>{N(e),y(!0)},className:"p-2 rounded-xl bg-orange-500 text-white hover:bg-orange-600 transition-all duration-100 shadow-md active:scale-95",title:"Lihat Detail",children:(0,s.jsx)(o.A,{className:"h-4 w-4"})}),e.audio_path&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>$(e),className:`p-2 rounded-xl transition-all shadow-sm flex items-center gap-1.5 ${j===e.id?"bg-green-500 text-white":"bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white"}`,title:"Salin untuk Backend",children:j===e.id?(0,s.jsx)(d.A,{className:"h-4 w-4"}):(0,s.jsx)(c.A,{className:"h-4 w-4"})}),(0,s.jsx)("a",{href:(0,u.s)(e.audio_path),target:"_blank",className:"p-2 rounded-xl bg-orange-50 text-orange-600 hover:bg-orange-600 hover:text-white transition-all shadow-sm",title:"Buka Audio",children:(0,s.jsx)(x.A,{className:"h-4 w-4"})}),(0,s.jsx)("a",{href:(0,u.s)(e.audio_path),download:!0,className:"p-2 rounded-xl bg-zinc-900 text-white hover:bg-zinc-800 transition-all shadow-xl shadow-black/10",title:"Unduh MP3",children:(0,s.jsx)(p.A,{className:"h-4 w-4"})})]})]})})]},e.id))})]})})})]}),(0,s.jsx)(m.A,{isOpen:v,onClose:()=>y(!1),conversion:w,isAdminMode:!1})]})}},1607:(e,t,a)=>{Promise.resolve().then(a.bind(a,1142))}},e=>{e.O(0,[4404,8441,3794,7358],()=>e(e.s=1607)),_N_E=e.O()}]);