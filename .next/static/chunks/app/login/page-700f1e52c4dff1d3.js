(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4520],{251:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});var t=s(5155),r=s(2115),n=s(3321),l=s(1337);function i({onSuccess:e}){let[a,s]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[o,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(""),h=async s=>{s.preventDefault(),c(!0),u("");try{let s=await fetch((0,l.e)("/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:n})}),t=await s.json();if(!s.ok)throw Error(t.error||"Username atau password salah.");e(t.user)}catch(e){u(e.message)}finally{c(!1)}};return(0,t.jsxs)("div",{className:"w-full max-w-md mx-auto space-y-8 animate-slide-up",children:[(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold tracking-tight text-orange-950 ",children:"Selamat Datang"}),(0,t.jsx)("p",{className:"text-orange-900/50  font-medium",children:"Silakan login dengan akun SSO BPS"})]}),(0,t.jsxs)("div",{className:"glass rounded-[40px] p-8 md:p-10 shadow-2xl relative overflow-hidden group",children:[(0,t.jsx)("div",{className:"absolute top-0 inset-x-0 h-px bg-gradient-to-r from-transparent via-orange-500/20 to-transparent"}),(0,t.jsxs)("form",{onSubmit:h,className:"space-y-6 relative z-10",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2 px-1",children:[(0,t.jsx)("label",{className:"text-[10px] font-semibold text-orange-900/50  tracking-[0.2em] uppercase",children:"Username (tanpa @bps.go.id)"}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("input",{type:"text",placeholder:"username.pegawai",value:a,onChange:e=>s(e.target.value),className:"w-full px-6 py-4 border border-orange-100 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500/40 outline-none transition-all font-medium",style:{color:"#1c0a00",backgroundColor:"rgba(255,247,237,0.85)"},required:!0})})]}),(0,t.jsxs)("div",{className:"space-y-2 px-1",children:[(0,t.jsx)("label",{className:"text-[10px] font-semibold text-orange-900/50  tracking-[0.2em] uppercase",children:"Password"}),(0,t.jsx)("input",{type:"password",placeholder:"••••••••",value:n,onChange:e=>i(e.target.value),className:"w-full px-6 py-4 border border-orange-100 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500/40 outline-none transition-all font-medium",style:{color:"#1c0a00",backgroundColor:"rgba(255,247,237,0.85)"},required:!0})]})]}),d&&(0,t.jsx)("div",{className:"p-4 rounded-2xl bg-red-500/10 border border-red-500/20 text-xs font-medium text-red-500 animate-in text-center",children:d}),(0,t.jsxs)("button",{type:"submit",disabled:o,className:"group relative overflow-hidden w-full py-5 rounded-2xl bg-orange-600 hover:bg-orange-500 text-white font-semibold shadow-xl shadow-orange-600/20 transform transition-all hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50",children:[(0,t.jsx)("span",{className:"relative z-10 flex items-center justify-center gap-2 uppercase tracking-widest text-xs",children:o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}),"MENGOTENTIKASI..."]}):(0,t.jsxs)(t.Fragment,{children:["login ",(0,t.jsx)("span",{className:"text-lg opacity-50",children:"→"})]})}),(0,t.jsx)("div",{className:"absolute inset-x-0 bottom-0 h-1 bg-black/20 group-hover:h-full transition-all duration-300"})]})]})]})]})}function o(){let e=(0,n.useRouter)(),[a,s]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{fetch((0,l.e)("/api/auth/session")).then(a=>{a.ok&&e.push("/converter")}),fetch((0,l.e)("/api/settings")).then(async e=>{if(e.ok){let a=await e.json();a.success&&s(a.settings.guest_access)}}).catch(()=>{})},[e]),(0,t.jsxs)("div",{className:"relative min-h-screen selection:bg-orange-500/30",children:[(0,t.jsx)("div",{className:"bg-mesh"}),(0,t.jsx)("div",{className:"relative z-10 flex flex-col items-center justify-center p-4 min-h-screen",children:(0,t.jsxs)("div",{className:"w-full max-w-6xl animate-fade-in flex flex-col items-center",children:[(0,t.jsxs)("button",{onClick:()=>e.push("/"),className:"mb-12 flex items-center gap-2 group transition-all",children:[(0,t.jsx)("div",{className:"p-2 rounded-xl bg-orange-600 shadow-lg shadow-orange-600/20 group-hover:scale-110 transition-transform",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})})}),(0,t.jsx)("span",{className:"text-xl font-bold tracking-tighter text-zinc-900 uppercase",children:"Alih Audio"})]}),(0,t.jsx)(i,{onSuccess:()=>e.push("/converter")}),a&&(0,t.jsx)("button",{onClick:()=>e.push("/guest"),className:"mt-6 text-sm font-semibold text-orange-900/60 hover:text-orange-600 transition-colors uppercase tracking-widest outline-none",children:"Tidak memiliki akun SSO? Masuk sebagai tamu"})]})})]})}},1337:(e,a,s)=>{"use strict";s.d(a,{e:()=>r,s:()=>n});let t="/alihaudio",r=e=>{let[a,s]=e.split("?"),r=a.startsWith("/")?a:`/${a}`;if(!r.endsWith("/")){let e=r.split("/"),a=e[e.length-1];a&&!a.includes(".")&&(r+="/")}let n=s?`${r}?${s}`:r;return`${t}${n}`},n=e=>{if(!e)return"";if(e.startsWith("http"))return e;if(e.startsWith("/uploads/audio/")){let a=e.replace("/uploads/audio/","");return`${t}/api/audio/${a}`}let a=e.startsWith("/")?e:`/${e}`;return`${t}${a}`}},3321:(e,a,s)=>{"use strict";var t=s(4645);s.o(t,"usePathname")&&s.d(a,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}})},8981:(e,a,s)=>{Promise.resolve().then(s.bind(s,251))}},e=>{e.O(0,[8441,3794,7358],()=>e(e.s=8981)),_N_E=e.O()}]);