{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/2026/SID/Sistem%20Informasi/inialihaudio/alihaudio/app/components/TTSForm.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { getApiUrl, getAssetUrl } from \"@/lib/utils\";\r\n\r\nconst LANGUAGES = [\r\n  { code: \"id-ID\", name: \"Bahasa Indonesia\", icon: \"ðŸ‡®ðŸ‡©\" },\r\n  { code: \"en-US\", name: \"English (US)\", icon: \"ðŸ‡ºðŸ‡¸\" },\r\n  { code: \"ja-JP\", name: \"Japanese\", icon: \"ðŸ‡¯ðŸ‡µ\" },\r\n  { code: \"ko-KR\", name: \"Korean\", icon: \"ðŸ‡°ðŸ‡·\" },\r\n  { code: \"fr-FR\", name: \"French\", icon: \"ðŸ‡«ðŸ‡·\" },\r\n  { code: \"de-DE\", name: \"German\", icon: \"ðŸ‡©ðŸ‡ª\" },\r\n  { code: \"es-ES\", name: \"Spanish\", icon: \"es\" },\r\n  { code: \"ru-RU\", name: \"Russian\", icon: \"ðŸ‡·ðŸ‡º\" },\r\n  { code: \"ar-XA\", name: \"Arabic\", icon: \"ðŸ‡¸ðŸ‡¦\" },\r\n];\r\n\r\nconst EDGE_VOICES_MALE = [\r\n  { code: \"id-ID-ArdiNeural\", name: \"Bahasa Indonesia (Ardi)\", icon: \"ðŸ‡®ðŸ‡©\" },\r\n  { code: \"en-US-GuyNeural\", name: \"English US (Guy)\", icon: \"ðŸ‡ºðŸ‡¸\" },\r\n  { code: \"en-GB-RyanNeural\", name: \"English UK (Ryan)\", icon: \"ðŸ‡¬ðŸ‡§\" },\r\n  { code: \"ja-JP-KeitaNeural\", name: \"Japanese (Keita)\", icon: \"ðŸ‡¯ðŸ‡µ\" },\r\n  { code: \"ko-KR-InJoonNeural\", name: \"Korean (InJoon)\", icon: \"ðŸ‡°ðŸ‡·\" },\r\n  { code: \"fr-FR-HenriNeural\", name: \"French (Henri)\", icon: \"ðŸ‡«ðŸ‡·\" },\r\n  { code: \"de-DE-KilianNeural\", name: \"German (Kilian)\", icon: \"ðŸ‡©ðŸ‡ª\" },\r\n  { code: \"es-ES-AlvaroNeural\", name: \"Spanish (Alvaro)\", icon: \"ðŸ‡ªðŸ‡¸\" },\r\n  { code: \"ar-SA-HamedNeural\", name: \"Arabic (Hamed)\", icon: \"ðŸ‡¸ðŸ‡¦\" },\r\n];\r\n\r\nconst EDGE_VOICES_FEMALE = [\r\n  { code: \"id-ID-GadisNeural\", name: \"Bahasa Indonesia (Gadis)\", icon: \"ðŸ‡®ðŸ‡©\" },\r\n  { code: \"en-US-AriaNeural\", name: \"English US (Aria)\", icon: \"ðŸ‡ºðŸ‡¸\" },\r\n  { code: \"en-GB-SoniaNeural\", name: \"English UK (Sonia)\", icon: \"ðŸ‡¬ðŸ‡§\" },\r\n  { code: \"ja-JP-NanamiNeural\", name: \"Japanese (Nanami)\", icon: \"ðŸ‡¯ðŸ‡µ\" },\r\n  { code: \"ko-KR-SunHiNeural\", name: \"Korean (SunHi)\", icon: \"ðŸ‡°ðŸ‡·\" },\r\n  { code: \"fr-FR-DeniseNeural\", name: \"French (Denise)\", icon: \"ðŸ‡«ðŸ‡·\" },\r\n  { code: \"de-DE-AmalaNeural\", name: \"German (Amala)\", icon: \"ðŸ‡©ðŸ‡ª\" },\r\n  { code: \"es-ES-ElviraNeural\", name: \"Spanish (Elvira)\", icon: \"ðŸ‡ªðŸ‡¸\" },\r\n  { code: \"ar-SA-ZariyahNeural\", name: \"Arabic (Zariyah)\", icon: \"ðŸ‡¸ðŸ‡¦\" },\r\n];\r\n\r\ndeclare global {\r\n  interface Window {\r\n    puter: any;\r\n  }\r\n}\r\n\r\nexport default function TTSForm({ isGuest = false, onSuccess }: { isGuest?: boolean, onSuccess?: () => void }) {\r\n  const router = useRouter();\r\n  const [text, setText] = useState(\"\");\r\n  const [judul, setJudul] = useState(\"\");\r\n  const [lang, setLang] = useState(\"\");\r\n  const [mode, setMode] = useState<\"free\" | \"puter\">(\"puter\");\r\n  const [audioUrl, setAudioUrl] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [showSuccess, setShowSuccess] = useState(false);\r\n  const [showWarning, setShowWarning] = useState(false);\r\n  const [provider, setProvider] = useState(\"\");\r\n  const [multiAudioUrls, setMultiAudioUrls] = useState<string[]>([]);\r\n  const [progress, setProgress] = useState(0);\r\n\r\n  const [savedAudioPath, setSavedAudioPath] = useState(\"\");\r\n\r\n  // New Hugging Face states\r\n  const [maleEngine, setMaleEngine] = useState<\"puter\" | \"huggingface\">(\"huggingface\");\r\n  const [hfVoice, setHfVoice] = useState(\"id-ID-ArdiNeural\");\r\n  const [femaleEngine, setFemaleEngine] = useState<\"google\" | \"edge\">(\"edge\");\r\n  const [edgeFemaleVoice, setEdgeFemaleVoice] = useState(\"id-ID-GadisNeural\");\r\n\r\n  const splitText = (input: string, mode: \"free\" | \"puter\") => {\r\n    const maxLength = (mode === \"puter\" || (mode === \"free\" && femaleEngine === \"edge\")) ? 2500 : 200; // Tingkatkan ke 200 untuk Google\r\n    const chunks = [];\r\n    let currentChunk = \"\";\r\n\r\n    const sentences = input.split(/([.,!?;]\\s+)/);\r\n\r\n    for (let i = 0; i < sentences.length; i++) {\r\n      const part = sentences[i];\r\n      if ((currentChunk + part).length > maxLength) {\r\n        if (currentChunk) chunks.push(currentChunk.trim());\r\n        if (part.length > maxLength) {\r\n          const words = part.split(' ');\r\n          let subChunk = \"\";\r\n          for (let word of words) {\r\n            if ((subChunk + word).length > maxLength) {\r\n              chunks.push(subChunk.trim());\r\n              subChunk = word + \" \";\r\n            } else {\r\n              subChunk += word + \" \";\r\n            }\r\n          }\r\n          currentChunk = subChunk;\r\n        } else {\r\n          currentChunk = part;\r\n        }\r\n      } else {\r\n        currentChunk += part;\r\n      }\r\n    }\r\n    if (currentChunk.trim()) chunks.push(currentChunk.trim());\r\n    return chunks;\r\n  };\r\n\r\n  const blobToBase64 = (blob: Blob): Promise<string> => {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => resolve(reader.result as string);\r\n      reader.onerror = reject;\r\n      reader.readAsDataURL(blob);\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!text) return;\r\n\r\n    // Validation for language selection in Perempuan mode\r\n    if (mode === 'free' && femaleEngine === 'google' && !lang) {\r\n      setShowWarning(true);\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    setAudioUrl(\"\");\r\n    setShowSuccess(false);\r\n    setProgress(0);\r\n\r\n    try {\r\n      const audioBlobs: Blob[] = [];\r\n      const chunks = splitText(text, mode);\r\n\r\n      for (let i = 0; i < chunks.length; i++) {\r\n        setProgress(Math.round(((i + 0.2) / chunks.length) * 100));\r\n\r\n        if (mode === \"puter\") {\r\n          if (maleEngine === \"puter\") {\r\n            if (!window.puter) throw new Error(\"Puter.js belum siap.\");\r\n            const audio = await window.puter.ai.txt2speech(chunks[i], {\r\n              provider: 'openai',\r\n              model: 'gpt-4o-mini-tts',\r\n              voice: 'onyx'\r\n            });\r\n            const response = await fetch(audio.src);\r\n            audioBlobs.push(await response.blob());\r\n          } else if (maleEngine === \"huggingface\") {\r\n            // TERHUBUNG DENGAN MICROSERVICE EKSTERNAL ANDA\r\n            const edgeApiUrl = process.env.NEXT_PUBLIC_EDGE_TTS_API_URL || \"http://localhost:8080/api/edge-tts\";\r\n            const hfResponse = await fetch(edgeApiUrl, {\r\n              method: \"POST\",\r\n              headers: { \"Content-Type\": \"application/json\" },\r\n              body: JSON.stringify({\r\n                text: chunks[i],\r\n                model: hfVoice\r\n              })\r\n            });\r\n\r\n            if (!hfResponse.ok) {\r\n              let errMsg = \"Gagal menghasilkan audio dengan Hugging Face\";\r\n              try {\r\n                const errData = await hfResponse.json();\r\n                if (errData.message) errMsg = errData.message;\r\n              } catch (e) { }\r\n              throw new Error(errMsg);\r\n            }\r\n\r\n            audioBlobs.push(await hfResponse.blob());\r\n          }\r\n        } else {\r\n          // MODE PEREMPUAN: Mendukung Multi-Chunk\r\n          if (femaleEngine === \"edge\") {\r\n            // TERHUBUNG DENGAN MICROSERVICE EKSTERNAL ANDA\r\n            const edgeApiUrl = process.env.NEXT_PUBLIC_EDGE_TTS_API_URL || \"http://localhost:8080/api/edge-tts\";\r\n            const hfResponse = await fetch(edgeApiUrl, {\r\n              method: \"POST\",\r\n              headers: { \"Content-Type\": \"application/json\" },\r\n              body: JSON.stringify({\r\n                text: chunks[i],\r\n                model: edgeFemaleVoice\r\n              })\r\n            });\r\n\r\n            if (!hfResponse.ok) {\r\n              let errMsg = \"Gagal menghasilkan audio dengan Edge TTS\";\r\n              try {\r\n                const errData = await hfResponse.json();\r\n                if (errData.message) errMsg = errData.message;\r\n              } catch (e) { }\r\n              throw new Error(errMsg);\r\n            }\r\n\r\n            audioBlobs.push(await hfResponse.blob());\r\n          } else {\r\n            try {\r\n              const createRes = await fetch(\"https://api.soundoftext.com/sounds\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({\r\n                  engine: \"google\",\r\n                  data: { text: chunks[i], voice: lang }\r\n                })\r\n              });\r\n\r\n              if (!createRes.ok) throw new Error(\"Gagal membuat antrean suara.\");\r\n              const { id } = await createRes.json();\r\n\r\n              // Polling\r\n              let status = \"Pending\";\r\n              let location = \"\";\r\n              let attempts = 0;\r\n              while (status !== \"Done\" && attempts < 10) {\r\n                await new Promise(r => setTimeout(r, 1000));\r\n                const checkRes = await fetch(`https://api.soundoftext.com/sounds/${id}`);\r\n                const data = await checkRes.json();\r\n                status = data.status;\r\n                location = data.location;\r\n                attempts++;\r\n              }\r\n\r\n              if (status === \"Done\" && location) {\r\n                // COBA AMBIL BLOB via CORS PROXY (Agar bisa digabung otomatis)\r\n                try {\r\n                  const proxyUrl = `https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(location)}`;\r\n                  const audioRes = await fetch(proxyUrl);\r\n                  if (audioRes.ok) {\r\n                    audioBlobs.push(await audioRes.blob());\r\n                  } else {\r\n                    throw new Error(\"CORS Blocked\");\r\n                  }\r\n                } catch (proxyErr) {\r\n                  // FALLBACK: Buka Manual jika Proxy gagal\r\n                  const goManual = window.confirm(\r\n                    `BAGIAN ${i + 1}/${chunks.length} SIAP!\\n\\n` +\r\n                    \"Klik OK untuk mendownload bagian ini, lalu upload di kotak kanan.\"\r\n                  );\r\n                  if (goManual) window.open(location, '_blank');\r\n                }\r\n              }\r\n            } catch (e: any) {\r\n              console.error(\"Multi-chunk processing error:\", e);\r\n            }\r\n          }\r\n        }\r\n        setProgress(Math.round(((i + 1) / chunks.length) * 100));\r\n      }\r\n\r\n      const combinedBlob = new Blob(audioBlobs, { type: \"audio/mpeg\" });\r\n      const finalAudioUrl = URL.createObjectURL(combinedBlob);\r\n      setAudioUrl(finalAudioUrl);\r\n      const computedProvider = mode === \"puter\" ? (maleEngine === \"huggingface\" ? \"huggingface\" : \"puter-ai\") : (femaleEngine === \"edge\" ? \"edge\" : \"google-free\");\r\n      setProvider(computedProvider);\r\n      setShowSuccess(true);\r\n\r\n      // Auto-save to database with REAL MP3 data\r\n      try {\r\n        const formData = new FormData();\r\n        formData.append(\"text\", text);\r\n        formData.append(\"judul\", judul || \"\");\r\n        formData.append(\"mode\", mode);\r\n        formData.append(\"lang\", lang || \"\");\r\n        formData.append(\"provider\", computedProvider);\r\n        formData.append(\"audio\", combinedBlob, \"voice.mp3\");\r\n        if (isGuest) formData.append(\"isGuest\", \"true\");\r\n\r\n        const res = await fetch(getApiUrl(\"/api/save-conversion\"), {\r\n          method: \"POST\",\r\n          body: formData,\r\n        });\r\n        const data = await res.json();\r\n        if (data.audioPath) {\r\n          setSavedAudioPath(data.audioPath);\r\n          if (isGuest && onSuccess) {\r\n            onSuccess();\r\n          }\r\n        }\r\n      } catch (saveError) {\r\n        console.error(\"Failed to save conversion to DB:\", saveError);\r\n      }\r\n\r\n    } catch (error: any) {\r\n      console.error(\"TTS Error:\", error);\r\n      alert(error.message || \"Gagal membuat audio.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n      setProgress(0);\r\n    }\r\n  };\r\n\r\n  const handleDownload = () => {\r\n    if (!audioUrl) return;\r\n    const link = document.createElement(\"a\");\r\n    link.href = audioUrl;\r\n    link.download = `voice-${Date.now()}.mp3`;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full space-y-4\">\r\n      {/* Tab Switcher */}\r\n      <div className=\"flex flex-col items-center gap-4\">\r\n        <div className=\"p-1 container max-w-lg bg-orange-100/30  rounded-[20px] border border-orange-200/50  backdrop-blur-3xl flex shadow-xl transition-all duration-300\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => setMode(\"puter\")}\r\n            className={`flex-1 flex items-center justify-center gap-2 py-3.5 rounded-[16px] text-xs font-semibold tracking-widest uppercase transition-all duration-300 ${mode === \"puter\"\r\n              ? \"bg-gradient-to-br from-orange-500 to-orange-600 text-white shadow-xl shadow-orange-500/20\"\r\n              : \"text-orange-900/60 text-stone-400 hover:text-orange-900 hover:text-stone-200\"\r\n              }`}\r\n          >\r\n            <span className=\"text-lg\">â™‚</span> Laki-laki\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => setMode(\"free\")}\r\n            className={`flex-1 flex items-center justify-center gap-2 py-3.5 rounded-[16px] text-xs font-semibold tracking-widest uppercase transition-all duration-300 ${mode === \"free\"\r\n              ? \"bg-gradient-to-br from-orange-500 to-orange-600 text-white shadow-xl shadow-orange-500/20\"\r\n              : \"text-orange-900/60 text-stone-400 hover:text-orange-900 hover:text-stone-200\"\r\n              }`}\r\n          >\r\n            <span className=\"text-lg\">â™€</span> Perempuan\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <form onSubmit={handleSubmit} className=\"space-y-6 animate-slide-up\">\r\n        {/* â”€â”€ Input Judul â”€â”€ */}\r\n        <div className=\"space-y-2\">\r\n          <div className=\"flex items-center gap-2 px-2\">\r\n            <div className=\"w-1.5 h-1.5 rounded-full bg-orange-500\"></div>\r\n            <label htmlFor=\"judul\" className=\"text-[10px] font-semibold text-orange-900/50 tracking-[0.2em] uppercase\">\r\n              Judul <span className=\"text-orange-500\">*</span>\r\n            </label>\r\n          </div>\r\n          <input\r\n            id=\"judul\"\r\n            type=\"text\"\r\n            className=\"w-full px-6 py-4 border border-orange-200/50 rounded-[20px] focus:ring-1 focus:ring-orange-500/40 focus:border-orange-500/60 outline-none transition-all text-sm font-medium shadow-md\"\r\n            style={{ color: '#1c0a00', backgroundColor: 'rgba(255,255,255,0.82)' }}\r\n            placeholder=\"Contoh: Berita Pagi â€” Kependudukan Jawa Tengah\"\r\n            value={judul}\r\n            onChange={(e) => setJudul(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className={`grid grid-cols-1 lg:grid-cols-12 gap-4 transition-all duration-300`}>\r\n          {/* Main Input Area */}\r\n          <div className={`lg:col-span-9 space-y-4`}>\r\n            <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-3 px-2 mb-1\">\r\n              <div className=\"flex flex-wrap items-center gap-2\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className=\"w-1.5 h-1.5 rounded-full bg-orange-500 animate-pulse\"></div>\r\n                  <label className=\"text-[10px] font-semibold text-orange-900/50 text-stone-500 tracking-[0.2em] uppercase whitespace-nowrap\">Teks Sumber</label>\r\n                </div>\r\n                {mode === 'puter' && maleEngine === 'puter' && (\r\n                  <span className=\"text-[8px] font-semibold bg-orange-500/10 text-orange-600 px-2 py-0.5 rounded-full border border-orange-500/20 animate-fade-in uppercase tracking-wider text-orange-400\">\r\n                    Auto-detect Bahasa\r\n                  </span>\r\n                )}\r\n              </div>\r\n              <div className=\"flex items-center gap-3 sm:justify-end\">\r\n                {text.length > (mode === 'free' ? 150 : 2500) && (\r\n                  <span className=\"text-[9px] font-semibold bg-orange-500/5 bg-orange-500/10 px-2 py-0.5 rounded text-orange-600 text-orange-400 border border-orange-500/10 border-orange-500/20 tracking-tighter\">MULTI-CHUNK MODE</span>\r\n                )}\r\n                <span className={`text-[9px] font-medium tracking-widest ${text.length > 3000 ? 'text-red-500' : 'text-orange-900/40 text-stone-500'}`}>\r\n                  {text.length.toLocaleString()} KARAKTER\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"relative group\">\r\n              <div className=\"absolute -inset-0.5 bg-gradient-to-r from-orange-500/10 to-amber-500/10 rounded-[32px] blur-xl opacity-0 group-focus-within:opacity-100 transition-opacity duration-300\"></div>\r\n              <textarea\r\n                id=\"text\"\r\n                rows={mode === 'free' ? 8 : 10}\r\n                className=\"relative w-full px-6 py-5 bg-white/80 border border-orange-200/50 rounded-[24px] focus:ring-1 focus:ring-orange-500/40 focus:border-orange-500/60 outline-none transition-all text-base leading-[1.6] resize-none scroll-smooth shadow-lg\"\r\n                style={{ color: '#1c0a00', backgroundColor: 'rgba(255,255,255,0.82)' }}\r\n                placeholder=\"Ketik atau tempel naskah Anda di sini...\"\r\n                value={text}\r\n                onChange={(e) => setText(e.target.value)}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Sidebar Controls */}\r\n          <div className=\"lg:col-span-3 space-y-6 animate-fade-in\">\r\n            {mode === 'free' && (\r\n              <div className=\"space-y-4\">\r\n                <label className=\"block text-[10px] font-semibold text-orange-900/50 text-stone-500 tracking-[0.2em] uppercase px-1\">Engine Suara (Perempuan)</label>\r\n                <div className=\"relative group mt-1\">\r\n                  <select\r\n                    value={femaleEngine}\r\n                    onChange={(e) => setFemaleEngine(e.target.value as any)}\r\n                    className=\"w-full appearance-none px-5 py-4 bg-orange-50/80 border border-orange-100 rounded-2xl text-sm font-medium outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500/40 transition-all cursor-pointer shadow-sm\"\r\n                    style={{ color: '#7c2d12', backgroundColor: 'rgba(255,237,213,0.85)' }}\r\n                  >\r\n                    <option value=\"edge\" className=\"bg-white text-stone-900\">Microsoft Edge TTS (Gratis)</option>\r\n                    <option value=\"google\" className=\"bg-white text-stone-900\">Google Cloud (Banyak Bahasa)</option>\r\n                  </select>\r\n                  <div className=\"absolute right-5 top-1/2 -translate-y-1/2 pointer-events-none text-orange-400\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M19 9l-7 7-7-7\" />\r\n                    </svg>\r\n                  </div>\r\n                </div>\r\n\r\n                {femaleEngine === 'google' && (\r\n                  <div className=\"space-y-4 mt-6\">\r\n                    <label className=\"block text-[10px] font-semibold text-orange-900/50 text-stone-500 tracking-[0.2em] uppercase px-1\">Logat Bahasa Suara</label>\r\n                    <div className=\"relative group mt-1\">\r\n                      <select\r\n                        value={lang}\r\n                        onChange={(e) => setLang(e.target.value)}\r\n                        className=\"w-full appearance-none px-5 py-4 bg-orange-50/80 border border-orange-100 rounded-2xl text-sm font-medium outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500/40 transition-all cursor-pointer shadow-sm\"\r\n                        style={{ color: '#7c2d12', backgroundColor: 'rgba(255,237,213,0.85)' }}\r\n                      >\r\n                        <option value=\"\" disabled hidden>--- Pilih Bahasa ---</option>\r\n                        {LANGUAGES.map((l) => (\r\n                          <option key={l.code} value={l.code} className=\"bg-white bg-stone-900\">\r\n                            {l.icon} {l.name}\r\n                          </option>\r\n                        ))}\r\n                      </select>\r\n                      <div className=\"absolute right-5 top-1/2 -translate-y-1/2 pointer-events-none text-orange-400\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M19 9l-7 7-7-7\" />\r\n                        </svg>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {femaleEngine === 'edge' && (\r\n                  <div className=\"space-y-4 mt-6\">\r\n                    <label className=\"block text-[10px] font-semibold text-orange-900/50 text-stone-500 tracking-[0.2em] uppercase px-1\">Pilihan Suara (Logat)</label>\r\n                    <div className=\"relative group mt-1\">\r\n                      <select\r\n                        value={edgeFemaleVoice}\r\n                        onChange={(e) => setEdgeFemaleVoice(e.target.value)}\r\n                        className=\"w-full appearance-none px-5 py-4 bg-orange-50/80 border border-orange-100 rounded-2xl text-sm font-medium outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500/40 transition-all cursor-pointer shadow-sm\"\r\n                        style={{ color: '#7c2d12', backgroundColor: 'rgba(255,237,213,0.85)' }}\r\n                      >\r\n                        {EDGE_VOICES_FEMALE.map((v) => (\r\n                          <option key={v.code} value={v.code} className=\"bg-white text-stone-900\">\r\n                            {v.icon} {v.name}\r\n                          </option>\r\n                        ))}\r\n                      </select>\r\n                      <div className=\"absolute right-5 top-1/2 -translate-y-1/2 pointer-events-none text-orange-400\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M19 9l-7 7-7-7\" />\r\n                        </svg>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {mode === 'puter' && (\r\n              <div className=\"space-y-4\">\r\n                <label className=\"block text-[10px] font-semibold text-orange-900/50 text-stone-500 tracking-[0.2em] uppercase px-1\">Engine Suara</label>\r\n                <div className=\"relative group\">\r\n                  <select\r\n                    value={maleEngine}\r\n                    onChange={(e) => setMaleEngine(e.target.value as any)}\r\n                    className=\"w-full appearance-none px-5 py-4 bg-orange-50/80 border border-orange-100 rounded-2xl text-sm font-medium outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500/40 transition-all cursor-pointer shadow-sm\"\r\n                    style={{ color: '#7c2d12', backgroundColor: 'rgba(255,237,213,0.85)' }}\r\n                  >\r\n                    <option value=\"huggingface\" className=\"bg-white text-stone-900\">Microsoft Edge TTS (Gratis)</option>\r\n                    <option value=\"puter\" className=\"bg-white text-stone-900\">OpenAI (Puter.js)</option>\r\n                  </select>\r\n                  <div className=\"absolute right-5 top-1/2 -translate-y-1/2 pointer-events-none text-orange-400\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M19 9l-7 7-7-7\" />\r\n                    </svg>\r\n                  </div>\r\n                </div>\r\n\r\n                {maleEngine === 'huggingface' && (\r\n                  <div className=\"space-y-4 mt-6\">\r\n                    <label className=\"block text-[10px] font-semibold text-orange-900/50 text-stone-500 tracking-[0.2em] uppercase px-1\">Pilihan Suara (Logat)</label>\r\n                    <div className=\"relative group mt-1\">\r\n                      <select\r\n                        value={hfVoice}\r\n                        onChange={(e) => setHfVoice(e.target.value)}\r\n                        className=\"w-full appearance-none px-5 py-4 bg-orange-50/80 border border-orange-100 rounded-2xl text-sm font-medium outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500/40 transition-all cursor-pointer shadow-sm\"\r\n                        style={{ color: '#7c2d12', backgroundColor: 'rgba(255,237,213,0.85)' }}\r\n                      >\r\n                        {EDGE_VOICES_MALE.map((v) => (\r\n                          <option key={v.code} value={v.code} className=\"bg-white text-stone-900\">\r\n                            {v.icon} {v.name}\r\n                          </option>\r\n                        ))}\r\n                      </select>\r\n                      <div className=\"absolute right-5 top-1/2 -translate-y-1/2 pointer-events-none text-orange-400\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M19 9l-7 7-7-7\" />\r\n                        </svg>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex flex-col md:flex-row items-center gap-4 justify-between border-t border-orange-100  pt-4 text-orange-900/50 text-stone-500\">\r\n          <div className=\"hidden md:flex flex-col gap-0.5 text-left\" suppressHydrationWarning>\r\n            <p className=\"text-[10px] font-semibold tracking-widest uppercase\">Estimasi Hasil</p>\r\n            <p className=\"text-xs font-medium italic\">~{Math.max(1, Math.floor(text.length / 15))} Detik Audio</p>\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            disabled={isLoading}\r\n            className=\"group relative overflow-hidden w-full md:w-auto px-12 py-3.5 rounded-xl bg-orange-600 hover:bg-orange-500 text-white font-semibold shadow-xl shadow-orange-600/20 transform transition-all hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            <span className=\"relative z-10 flex items-center justify-center gap-3 tracking-widest uppercase text-[10px]\">\r\n              {isLoading ? (\r\n                <>\r\n                  <span className=\"w-3.5 h-3.5 border-2 border-white/20 border-t-white rounded-full animate-spin\" />\r\n                  Memproses ({progress}%)\r\n                </>\r\n              ) : (\r\n                <>Konversi ke Suara <span className=\"text-base opacity-50\">â†’</span></>\r\n              )}\r\n            </span>\r\n            <div className=\"absolute inset-x-0 bottom-0 h-1 bg-black/10 group-hover:h-full transition-all duration-150\"></div>\r\n          </button>\r\n        </div>\r\n      </form >\r\n\r\n      {/* Loading Overlay Modal */}\r\n      {\r\n        isLoading && (\r\n          <div className=\"fixed inset-0 z-[100] flex items-center justify-center p-6 sm:p-0\">\r\n            <div className=\"absolute inset-0 bg-stone-950/60 backdrop-blur-md animate-fade-in\" />\r\n\r\n            <div className=\"relative glass-card bg-white p-10 rounded-[40px] shadow-2xl max-w-sm w-full text-center space-y-8 animate-slide-up border border-orange-500/20\">\r\n              <div className=\"relative w-24 h-24 mx-auto\">\r\n                <svg className=\"w-full h-full -rotate-90\" viewBox=\"0 0 100 100\">\r\n                  <circle\r\n                    cx=\"50\" cy=\"50\" r=\"45\"\r\n                    fill=\"none\" stroke=\"currentColor\"\r\n                    strokeWidth=\"8\" className=\"text-orange-500/10\"\r\n                  />\r\n                  <circle\r\n                    cx=\"50\" cy=\"50\" r=\"45\"\r\n                    fill=\"none\" stroke=\"currentColor\"\r\n                    strokeWidth=\"8\" strokeDasharray=\"282.7\"\r\n                    strokeDashoffset={282.7 - (282.7 * progress) / 100}\r\n                    className=\"text-orange-600 transition-all duration-300 ease-out\"\r\n                    strokeLinecap=\"round\"\r\n                  />\r\n                </svg>\r\n                <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                  <span className=\"text-xl font-semibold text-orange-950 leading-none\">{progress}%</span>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-3\">\r\n                <h3 className=\"text-2xl font-bold text-orange-950 tracking-tight\">Sedang diproses...</h3>\r\n                <p className=\"text-sm font-medium text-orange-900/50\">Mohon tunggu, teks sedang dikonversi ke audio</p>\r\n              </div>\r\n\r\n              <div className=\"flex justify-center gap-1.5\">\r\n                {[...Array(3)].map((_, i) => (\r\n                  <div key={i} className=\"w-1.5 h-1.5 rounded-full bg-orange-500 animate-bounce\" style={{ animationDelay: `${i * 0.2}s` }} />\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n\r\n      {/* Warning Notification Modal */}\r\n      {\r\n        showWarning && (\r\n          <div className=\"fixed inset-0 z-[120] flex items-center justify-center p-6 sm:p-0\">\r\n            <div className=\"absolute inset-0 bg-stone-950/40 backdrop-blur-sm animate-fade-in\" onClick={() => setShowWarning(false)} />\r\n\r\n            <div className=\"relative glass-card bg-white p-8 rounded-[40px] shadow-3xl max-w-sm w-full text-center space-y-6 animate-slide-up border border-orange-500/30\">\r\n              <div className=\"w-20 h-20 bg-orange-500/10 rounded-full flex items-center justify-center mx-auto text-orange-600 border border-orange-500/20\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-10 w-10 animate-pulse\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2.5} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\r\n                </svg>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <h3 className=\"text-2xl font-bold text-orange-950 tracking-tight\">Pilih Bahasa Dulu</h3>\r\n                <p className=\"text-sm font-medium text-orange-900/60 leading-relaxed\">\r\n                  Mode <span className=\"text-orange-600 font-semibold\">Perempuan</span> memerlukan pilihan bahasa agar pelafalan sesuai.\r\n                </p>\r\n              </div>\r\n\r\n              <button\r\n                onClick={() => setShowWarning(false)}\r\n                className=\"w-full py-4 bg-orange-600 text-white rounded-2xl font-semibold text-xs uppercase tracking-widest hover:bg-orange-500 hover:scale-105 active:scale-95 transition-all shadow-lg\"\r\n              >\r\n                Mengerti\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n\r\n      {/* Success Notification Modal */}\r\n      {\r\n        showSuccess && (\r\n          <div className=\"fixed inset-0 z-[110] flex items-center justify-center p-6 sm:p-0\">\r\n            <div className=\"absolute inset-0 bg-stone-950/50 backdrop-blur-sm animate-fade-in\" onClick={() => setShowSuccess(false)} />\r\n\r\n            <div className=\"relative glass-card bg-white p-8 rounded-[40px] shadow-3xl max-w-sm w-full text-center space-y-6 animate-slide-up border border-green-500/20\">\r\n              <div className=\"w-20 h-20 bg-green-500/10 rounded-full flex items-center justify-center mx-auto text-green-500 border border-green-500/20\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-10 w-10 animate-bounce\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M5 13l4 4L19 7\" />\r\n                </svg>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <h3 className=\"text-2xl font-bold text-orange-950 tracking-tight\">Selesai!</h3>\r\n                <p className=\"text-sm font-medium text-orange-900/50\">Audio sudah siap diputar atau diunduh.</p>\r\n              </div>\r\n\r\n              {isGuest ? (\r\n                <div className=\"space-y-4 text-left w-full mt-4\">\r\n                  <button\r\n                    onClick={() => setShowSuccess(false)}\r\n                    className=\"w-full py-4 bg-orange-600 text-white rounded-2xl font-semibold text-xs uppercase tracking-widest hover:scale-105 active:scale-95 transition-all shadow-xl\"\r\n                  >\r\n                    Lanjut (Tutup Popup)\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                <button\r\n                  onClick={() => {\r\n                    setShowSuccess(false);\r\n                    router.push(\"/my-conversions\");\r\n                  }}\r\n                  className=\"w-full py-4 bg-zinc-900 text-white rounded-2xl font-semibold text-xs uppercase tracking-widest hover:scale-105 active:scale-95 transition-all shadow-xl\"\r\n                >\r\n                  Lihat di Alih Audio Saya\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n\r\n      {/* Result Dashboard */}\r\n      {\r\n        audioUrl && (\r\n          <div className=\"animate-slide-up group relative p-1\">\r\n            <div className=\"absolute -inset-1 bg-gradient-to-r from-orange-500 via-amber-500 to-orange-700 rounded-[44px] blur-xl opacity-20 opacity-40 group-hover:opacity-30 transition duration-500\"></div>\r\n\r\n            <div className=\"relative glass rounded-[32px] p-5 md:p-6 overflow-hidden\">\r\n              {/* Visual Glow Ornament */}\r\n              <div className=\"absolute -top-12 -right-12 w-48 h-48 bg-orange-500/10 rounded-full blur-[60px]\"></div>\r\n\r\n              <div className=\"relative flex flex-col md:flex-row items-center gap-8\">\r\n                <div className=\"flex-1 w-full space-y-4\">\r\n                  <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-3\">\r\n                    <div className=\"space-y-0.5\">\r\n                      <h3 className=\"text-xl font-bold text-orange-950 text-stone-100 tracking-tight leading-none\">Audio Selesai</h3>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <span className=\"flex h-1.5 w-1.5 rounded-full bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.4)]\"></span>\r\n                        <p className=\"text-[9px] font-medium text-orange-900/50 text-stone-500 tracking-[0.1em] uppercase\">Status: Siap Unduh</p>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"px-3 py-1 rounded-full border bg-orange-500/5 text-orange-400 border-orange-500/20 text-[9px] font-semibold tracking-[0.1em] uppercase\">\r\n                      {provider === 'puter-ai' ? 'OPENAI ONYX' : (provider === 'huggingface' || provider === 'edge' ? 'MICROSOFT EDGE' : 'GOOGLE CLOUD')}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"bg-white/60 bg-black/50 p-1.5 rounded-[20px] shadow-inner transition-colors duration-300\">\r\n                    <audio controls src={audioUrl} className=\"w-full h-12 scale-[0.98] transition-transform\" key={audioUrl}>\r\n                      Browser Anda tidak mendukung elemen audio.\r\n                    </audio>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"w-full md:w-auto\">\r\n                  <button\r\n                    onClick={handleDownload}\r\n                    className=\"w-full md:w-auto px-8 py-4 bg-orange-600 hover:bg-orange-500 text-white rounded-xl font-semibold transition-all flex items-center justify-center gap-3 shadow-md transform hover:-rotate-1 active:scale-95 text-[10px] tracking-widest uppercase\"\r\n                  >\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M4 16v1a2 2 0 002 2h12a2 2 0 002-2v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" />\r\n                    </svg>\r\n                    UNDUH MP3\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Guest Embed Code Section */}\r\n              {isGuest && savedAudioPath && (() => {\r\n                const fullUrl = `${window.location.origin}${getAssetUrl(savedAudioPath)}`;\r\n                const htmlSnippet = `<div style=\"display: flex; align-items: center;\"><span style=\"font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);\"><b>Berita Versi Audio</b></span><audio controls=\"\" class=\"custom-audio\" style=\"width: 150px; margin-left: 20px; font-family: Arial, Verdana; font-size: 10pt;\"><source src=\"${fullUrl}\" type=\"audio/mpeg\"> </audio> </div>`;\r\n\r\n                return (\r\n                  <div className=\"mt-4 pt-4 border-t border-orange-200/50\">\r\n                    <p className=\"text-xs font-semibold text-orange-900/70 mb-2 uppercase tracking-widest\">KODE EMBED HTML (GUEST)</p>\r\n                    <div className=\"bg-black/5 p-3 rounded-xl border border-orange-200/50 flex flex-col gap-2\">\r\n                      <textarea readOnly className=\"w-full bg-transparent text-xs text-stone-600 outline-none resize-none\" rows={3} value={htmlSnippet} />\r\n                      <button onClick={() => navigator.clipboard.writeText(htmlSnippet)} className=\"w-full py-2 bg-orange-100/80 text-orange-700 rounded-lg text-xs font-semibold hover:bg-orange-200 transition\">Copy Embed HTML</button>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })()}\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1739, "column": 0}, "map": {"version":3,"sources":["file:///D:/2026/SID/Sistem%20Informasi/inialihaudio/alihaudio/app/guest/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport TTSForm from \"@/app/components/TTSForm\";\r\nimport { getApiUrl, getAssetUrl } from \"@/lib/utils\";\r\n\r\nexport default function GuestPage() {\r\n    const [conversions, setConversions] = useState<any[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const fetchConversions = () => {\r\n        fetch(getApiUrl(\"/api/guest-conversions\"))\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                if (data.success) {\r\n                    setConversions(data.conversions);\r\n                }\r\n                setLoading(false);\r\n            })\r\n            .catch(() => setLoading(false));\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchConversions();\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#fffaf5] p-6 text-zinc-900\">\r\n            <div className=\"max-w-4xl mx-auto space-y-12\">\r\n                <header className=\"flex flex-col gap-2 border-b border-orange-200 pb-6 pt-12\">\r\n                    <h1 className=\"text-4xl font-extrabold tracking-tight text-orange-950\">Mode Guest (Tanpa Login)</h1>\r\n                    <p className=\"text-sm font-medium text-orange-900/50\">Silakan konversi text menjadi audio secara instan. Audio yang dihasilkan akan masuk ke daftar konversi publik.</p>\r\n                </header>\r\n\r\n                <main className=\"glass rounded-[40px] p-5 md:p-8 shadow-xl border border-orange-200/50 backdrop-blur-xl\">\r\n                    <TTSForm isGuest={true} onSuccess={fetchConversions} />\r\n                </main>\r\n\r\n                <section className=\"space-y-6\">\r\n                    <div>\r\n                        <h2 className=\"text-2xl font-bold tracking-tight\">Semua Konversi Guest</h2>\r\n                        <p className=\"text-xs text-zinc-500 uppercase tracking-widest mt-1\">Daftar audio yang pernah di-generate tanpa login</p>\r\n                    </div>\r\n\r\n                    <div className=\"glass rounded-[32px] p-6 shadow-lg border border-orange-200/50\">\r\n                        {loading ? (\r\n                            <div className=\"flex justify-center py-10\">\r\n                                <div className=\"w-8 h-8 rounded-full border-2 border-orange-500 border-t-transparent animate-spin\"></div>\r\n                            </div>\r\n                        ) : conversions.length === 0 ? (\r\n                            <div className=\"text-center py-12 text-zinc-400 font-medium\">\r\n                                Belum ada konversi dari Guest.\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"space-y-4 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar\">\r\n                                {conversions.map(conv => (\r\n                                    <div key={conv.id} className=\"p-4 rounded-2xl bg-white/40 border border-orange-200/30 hover:bg-white/60 transition-colors\">\r\n                                        <div className=\"flex flex-col md:flex-row gap-4 justify-between items-start md:items-center\">\r\n                                            <div className=\"space-y-2\">\r\n                                                <h3 className=\"font-bold text-sm line-clamp-1\">{conv.judul || \"Tanpa Judul\"}</h3>\r\n                                                <p className=\"text-xs text-zinc-500 line-clamp-2 max-w-[400px]\">{conv.text_input}</p>\r\n                                                <div className=\"flex flex-wrap gap-2 text-[10px] uppercase font-semibold text-orange-600/60 tracking-widest\">\r\n                                                    <span>{conv.provider}</span>\r\n                                                    <span>â€¢</span>\r\n                                                    <span>{new Date(conv.created_at).toLocaleDateString()}</span>\r\n                                                </div>\r\n                                            </div>\r\n                                            {conv.audio_path && (\r\n                                                <div className=\"flex-shrink-0 w-full md:w-64\">\r\n                                                    <audio controls src={getAssetUrl(conv.audio_path)} className=\"w-full h-8\" />\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </section>\r\n\r\n                <footer className=\"text-center pb-12 pt-6\">\r\n                    <a href=\"/\" className=\"inline-block px-6 py-2 rounded-full border border-orange-200 text-orange-900/50 font-semibold text-xs transition-colors hover:bg-orange-50\">â† KEMBALI KE BERANDA</a>\r\n                </footer>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACpB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IACxD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,mBAAmB;QACrB,MAAM,IAAA,yHAAS,EAAC,2BACX,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI,IACpB,IAAI,CAAC,CAAA;YACF,IAAI,KAAK,OAAO,EAAE;gBACd,eAAe,KAAK,WAAW;YACnC;YACA,WAAW;QACf,GACC,KAAK,CAAC,IAAM,WAAW;IAChC;IAEA,IAAA,kNAAS,EAAC;QACN;IACJ,GAAG,EAAE;IAEL,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAO,WAAU;;sCACd,8OAAC;4BAAG,WAAU;sCAAyD;;;;;;sCACvE,8OAAC;4BAAE,WAAU;sCAAyC;;;;;;;;;;;;8BAG1D,8OAAC;oBAAK,WAAU;8BACZ,cAAA,8OAAC,wIAAO;wBAAC,SAAS;wBAAM,WAAW;;;;;;;;;;;8BAGvC,8OAAC;oBAAQ,WAAU;;sCACf,8OAAC;;8CACG,8OAAC;oCAAG,WAAU;8CAAoC;;;;;;8CAClD,8OAAC;oCAAE,WAAU;8CAAuD;;;;;;;;;;;;sCAGxE,8OAAC;4BAAI,WAAU;sCACV,wBACG,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC;oCAAI,WAAU;;;;;;;;;;uCAEnB,YAAY,MAAM,KAAK,kBACvB,8OAAC;gCAAI,WAAU;0CAA8C;;;;;qDAI7D,8OAAC;gCAAI,WAAU;0CACV,YAAY,GAAG,CAAC,CAAA,qBACb,8OAAC;wCAAkB,WAAU;kDACzB,cAAA,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;oDAAI,WAAU;;sEACX,8OAAC;4DAAG,WAAU;sEAAkC,KAAK,KAAK,IAAI;;;;;;sEAC9D,8OAAC;4DAAE,WAAU;sEAAoD,KAAK,UAAU;;;;;;sEAChF,8OAAC;4DAAI,WAAU;;8EACX,8OAAC;8EAAM,KAAK,QAAQ;;;;;;8EACpB,8OAAC;8EAAK;;;;;;8EACN,8OAAC;8EAAM,IAAI,KAAK,KAAK,UAAU,EAAE,kBAAkB;;;;;;;;;;;;;;;;;;gDAG1D,KAAK,UAAU,kBACZ,8OAAC;oDAAI,WAAU;8DACX,cAAA,8OAAC;wDAAM,QAAQ;wDAAC,KAAK,IAAA,2HAAW,EAAC,KAAK,UAAU;wDAAG,WAAU;;;;;;;;;;;;;;;;;uCAbnE,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;8BAwBrC,8OAAC;oBAAO,WAAU;8BACd,cAAA,8OAAC;wBAAE,MAAK;wBAAI,WAAU;kCAA6I;;;;;;;;;;;;;;;;;;;;;;AAKvL"}}]
}